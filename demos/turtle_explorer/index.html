<html>
  <head>
    <title>Turtle Graphics Explorer</title>
    <style>
      body {
        font-family: Verdana, Helvetica, Arial;
        padding:0;
        margin:0;
      }
      #instructions {
        padding-left:.5em;
        font-size: 0.8em;
      }
      #feedback {
        color:red;
        margin: 0;
        padding: 0;
        font-size: 0.6em;
      } 
    </style>
    <script src="js/turtle_global.js" ></script>
    <script src="js/global_procedures.js" ></script>
  </head>
  <body bgcolor="white">
    <table style="margin:0;padding:0" width="100%" height="100%" cellpadding="0" cellspacing="0">
      <tr>
        <td>
          <canvas id="canvas" width="800" height="600">
          Your browser does not support canvas, please upgrade. 
          </canvas>
        </td>
        <td>
          <form>
            <label id="instructions">Write JavaScript code or load: </label>
            <select id="select_snippet" onchange="load_snippet()">
              <option name="SQUARE" value="SQUARE">SQUARE</option>
              <option name="CIRCLE" value="CIRCLE">CIRCLE</option>
            </select> 
            <textarea id="turtle_buffer" rows="40" cols="40">
SQUARE(100);
            </textarea>
            <br>
            <input type="button" value="RUN" onclick="RUN()"/>
            <input type="button" value="CLEAR SCREEN" onclick="RESET()"/>
            <p id="feedback" ></p>
          </form>
        </td>
      </tr>
    </table>
<script>
//TurtleExplorer
$ = function(id) { return document.getElementById(id); };
var feedback = $("feedback");
var buffer = $('turtle_buffer');
//run the buffer of code entered by the user
function RUN() {
  var buftext = buffer.value;
	feedback.innerText = "";
	try {
		eval(buftext);
	} catch(e) {
		feedback.innerText = e.message;
	}
}

INIT("canvas", "#000000", "#FFEE00");

function load_snippet(index) {
  var snippet = $("select_snippet").value;
  switch(snippet) {
  
    case "SQUARE":
      buffer.value = " REPEAT(4, SQUAREPIECE, [size]);";
      break;

    case "CIRCLE":
      buffer.value = " circle code ";
      break;

  }
}
</script>

  </body>
</html>
